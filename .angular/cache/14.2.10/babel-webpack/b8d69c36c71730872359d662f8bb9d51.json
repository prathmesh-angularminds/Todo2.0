{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/todoservice.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\n\nfunction ImpTaskComponent_div_8_img_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 17);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    width: a0\n  };\n};\n\nfunction ImpTaskComponent_div_8_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 19);\n    i0.ɵɵelement(2, \"span\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const cards_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, cards_r1.completitionTime.precentage));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", cards_r1.completitionTime.minuteCounter, \" Mins Remaining\");\n  }\n}\n\nconst _c1 = function (a0) {\n  return {\n    cards: a0\n  };\n};\n\nfunction ImpTaskComponent_div_8_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 23);\n    i0.ɵɵlistener(\"click\", function ImpTaskComponent_div_8_div_14_Template_div_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const i_r2 = i0.ɵɵnextContext().index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.addToCompleted(i_r2));\n    });\n    i0.ɵɵtext(2, \"Mark as Completed\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 24);\n    i0.ɵɵlistener(\"click\", function ImpTaskComponent_div_8_div_14_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const i_r2 = i0.ɵɵnextContext().index;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onTaskUpdate(i_r2));\n    });\n    i0.ɵɵelementStart(4, \"div\", 25);\n    i0.ɵɵtext(5, \"Update Task\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 23);\n    i0.ɵɵlistener(\"click\", function ImpTaskComponent_div_8_div_14_Template_div_click_6_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const i_r2 = i0.ɵɵnextContext().index;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.onImpTaskDelete(i_r2));\n    });\n    i0.ɵɵtext(7, \"Delete Task\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const cards_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", \"/add-task\")(\"state\", i0.ɵɵpureFunction1(2, _c1, cards_r1));\n  }\n}\n\nfunction ImpTaskComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ImpTaskComponent_div_8_img_4_Template, 1, 0, \"img\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 11)(8, \"div\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(12, ImpTaskComponent_div_8_div_12_Template, 5, 4, \"div\", 12);\n    i0.ɵɵelementStart(13, \"div\", 13);\n    i0.ɵɵtemplate(14, ImpTaskComponent_div_8_div_14_Template, 8, 4, \"div\", 14);\n    i0.ɵɵelementStart(15, \"div\", 15);\n    i0.ɵɵlistener(\"click\", function ImpTaskComponent_div_8_Template_div_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const i_r2 = restoredCtx.index;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.showOption(i_r2));\n    });\n    i0.ɵɵelement(16, \"img\", 16);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const cards_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(cards_r1[\"taskTitle\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cards_r1.isImp);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cards_r1[\"taskDesc\"]);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"From-\", cards_r1[\"startTime\"], \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Till-\", cards_r1[\"endTime\"], \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentTime.getHours() > ctx_r0.parseIntDemo(cards_r1.startTime.charAt(0) + cards_r1.startTime.charAt(0)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", cards_r1[\"optionBtn\"]);\n  }\n}\n\nexport let ImpTaskComponent = /*#__PURE__*/(() => {\n  class ImpTaskComponent {\n    constructor(service) {\n      this.service = service;\n      this.completion = 0;\n      this.currentTime = new Date();\n      this.allTask = this.service.allTask;\n      console.log(this.allTask);\n      this.parseIntDemo = parseInt;\n      setInterval(() => {\n        for (var i = 0; i < this.allTask.length; i++) {\n          if (this.allTask[i].startTime.charAt(0) + this.allTask[i].startTime.charAt(0) < this.currentTime.getHours()) {\n            if (this.allTask[i].completitionTime.totalMinutes - this.allTask[i].completitionTime.minuteCounter < this.allTask[i].completitionTime.totalMinutes) {\n              this.allTask[i].completitionTime.minuteCounter = this.allTask[i].completitionTime.minuteCounter - 1;\n              this.allTask[i].completitionTime.precentage = (this.allTask[i].completitionTime.totalMinutes - this.allTask[i].completitionTime.minuteCounter) / this.allTask[i].completitionTime.totalMinutes * 100;\n            } else {\n              this.addToCompleted(i);\n            }\n          }\n        }\n\n        this.service.lStorage.setItem(\"allTask\", JSON.stringify(this.allTask));\n        this.allTask = JSON.parse(this.service.lStorage.getItem(\"allTask\")); //console.log(\"ndsjd\")\n      }, 100000);\n    }\n\n    ngOnInit() {} // form showing option div on page\n\n\n    showOption(index) {\n      for (var i = 0; i < this.allTask.length; i++) {\n        if (index !== i) this.allTask[i].optionBtn = false;\n      }\n\n      this.allTask[index].optionBtn = !this.allTask[index].optionBtn;\n    }\n\n    onImpTaskDelete(index) {\n      this.allTask[index].optionBtn = false;\n      var deletedTask = this.allTask[index];\n      this.allTask.splice(index, 1);\n      this.service.deleteTask(this.allTask, \"all\", deletedTask);\n    }\n\n    deleteAll() {\n      this.allTask = [];\n      this.service.allTaskDelete(\"all\");\n    }\n\n    onTaskUpdate(index) {\n      this.allTask[index].optionBtn = false;\n      this.allTask.splice(index, 1);\n      this.service.lStorage.setItem(\"allTask\", JSON.stringify(this.allTask));\n      this.allTask = JSON.parse(this.service.lStorage.getItem(\"allTask\"));\n    } // Function add task as completed\n\n\n    addToCompleted(index) {\n      this.allTask[index].optionBtn = false;\n      this.allTask[index].isCompleted = true;\n      this.service.addToCompleted(this.allTask[index]);\n      this.allTask.splice(index, 1);\n      this.service.lStorage.setItem(\"allTask\", JSON.stringify(this.allTask));\n      this.allTask = JSON.parse(this.service.lStorage.getItem(\"allTask\"));\n    }\n\n  }\n\n  ImpTaskComponent.ɵfac = function ImpTaskComponent_Factory(t) {\n    return new (t || ImpTaskComponent)(i0.ɵɵdirectiveInject(i1.TodoserviceService));\n  };\n\n  ImpTaskComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ImpTaskComponent,\n    selectors: [[\"app-imp-task\"]],\n    decls: 9,\n    vars: 4,\n    consts: [[1, \"imp-task\"], [1, \"imp-task-title-delete-block\"], [1, \"imp-task-title\"], [1, \"imp-task-delete-btn\", 3, \"click\"], [\"src\", \"../../../assets/delete-btn-img.svg\", \"alt\", \"delete-btn\"], [1, \"imp-task-list\"], [\"class\", \"imp-task-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"imp-task-card\"], [1, \"task-card-title\"], [\"src\", \"../../../assets/imp-btn-img.svg\", 4, \"ngIf\"], [1, \"task-card-desc\"], [1, \"task-card-time\"], [\"class\", \"task-progress\", \"style\", \"width: 100%\", 4, \"ngIf\"], [1, \"task-card-btns\"], [\"class\", \"optional-div\", 4, \"ngIf\"], [1, \"task-card-option-btn\", 2, \"cursor\", \"pointer\", 3, \"click\"], [\"src\", \"../../../assets/option-btn.svg\"], [\"src\", \"../../../assets/imp-btn-img.svg\"], [1, \"task-progress\", 2, \"width\", \"100%\"], [1, \"meter\"], [2, \"width\", \"25%\", 3, \"ngStyle\"], [1, \"percentage\"], [1, \"optional-div\"], [1, \"\", 3, \"click\"], [2, \"width\", \"100%\", \"text-decoration\", \"none\", 3, \"routerLink\", \"state\", \"click\"], [1, \"\"]],\n    template: function ImpTaskComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵtext(3);\n        i0.ɵɵpipe(4, \"uppercase\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵlistener(\"click\", function ImpTaskComponent_Template_div_click_5_listener() {\n          return ctx.deleteAll();\n        });\n        i0.ɵɵelement(6, \"img\", 4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵtemplate(8, ImpTaskComponent_div_8_Template, 17, 7, \"div\", 6);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 2, \"All Task\"), \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.allTask);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i2.NgStyle, i3.RouterLinkWithHref, i2.UpperCasePipe],\n    styles: [\".imp-task[_ngcontent-%COMP%]{width:100%;height:92vh;box-sizing:border-box;padding:1% 2%;display:flex;flex-direction:column}.imp-task[_ngcontent-%COMP%]   .imp-task-title-delete-block[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;box-sizing:border-box;padding:.5%}.imp-task[_ngcontent-%COMP%]   .imp-task-title-delete-block[_ngcontent-%COMP%]   .imp-task-title[_ngcontent-%COMP%]{font-size:.9rem;color:#fff;font-weight:700}.imp-task[_ngcontent-%COMP%]   .imp-task-title-delete-block[_ngcontent-%COMP%]   .imp-task-delete-btn[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-backdrop-filter:blur(1.325px);backdrop-filter:blur(1.325px);border-radius:6.625px;border:1px solid white;background:linear-gradient(136.01deg,rgba(255,255,255,.8) -30.89%,rgba(255,255,255,0) 163.24%)}.imp-task[_ngcontent-%COMP%]   .imp-task-title-delete-block[_ngcontent-%COMP%]   .imp-task-delete-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:55%;height:55%}.imp-task[_ngcontent-%COMP%]   .imp-task-search-block[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.imp-task[_ngcontent-%COMP%]   .imp-task-search-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50%;height:40px;outline:none;background:rgba(36,0,118,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);border:none;border-radius:5px;color:#fff;box-sizing:border-box;padding-left:20px}.imp-task[_ngcontent-%COMP%]   .imp-task-search-block[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{font-size:.8rem;font-weight:700}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]{width:100%;height:80vh;overflow:scroll;display:flex;flex-wrap:wrap;column-gap:7.69%;row-gap:3%;overflow-x:hidden;box-sizing:border-box;margin-top:20px}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]{width:280px;height:250px;overflow-wrap:break-word;display:flex;flex-direction:column;justify-content:space-between;align-items:center;box-sizing:border-box;padding:1.5%;border:.1px solid white;background:linear-gradient(124.02deg,rgba(255,255,255,.5) -59.47%,rgba(255,255,255,0) 101.61%);border-radius:5px;color:#fff}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]   .task-card-title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;font-size:.9rem;font-weight:800}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]   .task-card-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:90%}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]   .task-card-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]   .task-card-desc[_ngcontent-%COMP%]{width:100%;height:80px;font-size:.9rem;display:flex;justify-content:center;align-self:center;overflow:hidden;text-overflow:ellipsis;word-break:break-word;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:4;box-sizing:border-box;margin:10px 0}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]   .task-card-time[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-self:center}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]   .task-progress[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]   .task-progress[_ngcontent-%COMP%]   progress[_ngcontent-%COMP%]{box-sizing:border-box;margin:10px 0}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]   .task-card-btns[_ngcontent-%COMP%]{width:100%;display:flex;position:relative;justify-content:flex-end;box-sizing:border-box;margin-top:5px}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]   .task-card-btns[_ngcontent-%COMP%]   .optional-div[_ngcontent-%COMP%]{width:92%;position:absolute;display:flex;flex-direction:column;align-self:center;align-items:center;right:18px;bottom:0;background:rgba(255,255,255,.3);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-sizing:border-box;padding:3% 4%;border-radius:8px}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]   .task-card-btns[_ngcontent-%COMP%]   .optional-div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:2px;background:rgba(0,0,0,.3);color:#fff;text-align:center;width:100%;box-sizing:border-box;padding:7px 20px;border-radius:4px;font-weight:500;cursor:pointer}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]{height:8px!important;position:relative;background:white;border-radius:50px;box-shadow:inset 0 -1px 1px #ffffff4d;box-sizing:border-box;margin:10px 0}.imp-task[_ngcontent-%COMP%]   .imp-task-list[_ngcontent-%COMP%]   .imp-task-card[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:100%;border-radius:50px;background-color:#b69ef0;position:relative;overflow:hidden}\"]\n  });\n  return ImpTaskComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}